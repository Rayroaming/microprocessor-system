#include "stm32f769xx.h"
#include<stdlib.h>
#include<stdint.h>
#include "hello.h"


int main(void)
{	Sys_Init();
	char key;
	//char arr[13][50];
	int i=0;
	printf("\e[2J\e[H\e[3h\e[33;44m\e[12;24r");
	fflush(stdout);
	printf("\e[1B\e[24CPress <ESC> or <CTL> + [ to quit\r\n");
	while(1)
	{
		key = getchar();
		if (key >= 32 && key <= 126) // printable character ASCII 33-125, isprint() return 1 if its printable, 0 otherwise
		{
			//printf("\e[33;44m\e[3h");
			printf("\e[H\e[5B\e[2KThe Keyboard character is \e[31m%c\e[33;44m. \r\n", key);
		}
		else if (key == 27 || key == 123)
			return 1; // return 0 or return 1?
		else
		{
			printf("\e[u");
			if (i==0)
			{
				printf("\a\e[H\e[11B\e[5m The Keyboard character $%X is \e[4m'not printable'\e[0m\e[33;44m.\r\n", key);
				i=1;
			}
			printf("\a\e[5m The Keyboard character $%X is \e[4m'not printable'\e[0m\e[33;44m.\r\n", key);
			printf("\e[s");
		}
	}
}
